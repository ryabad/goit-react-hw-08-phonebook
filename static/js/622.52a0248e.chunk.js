"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[622],{7622:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var i=t(1413),r=t(4420),a=function(e){return e.user.user},o=function(e){return e.user.isLoading},s=function(e){return e.user.error},c=t(707),l=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,n="",t=crypto.getRandomValues(new Uint8Array(e));e--;){var i=63&t[e];n+=i<36?i.toString(36):i<62?(i-26).toString(36).toUpperCase():i<63?"_":"-"}return n},u=t(1686),d=t.n(u),f=t(5602),m=t(3874),h=t(5903),x=function(e){return new RegExp("^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$").test(e)},p=function(e){return/^\+?\d{1,9}?[ .\s]?(?:\d{5,})?[ .\s]?\d{1,4}[ .\s]?\d{1,4}[ .\s]?\d{1,9}/.test(e)},v=t(184),j=function(){var e=(0,r.v9)(a),n=(0,r.I0)();return(0,v.jsxs)(f.Z,{component:"form",onSubmit:function(t){t.preventDefault();var r=t.target,a={name:r.elements.name.value,number:r.elements.phone.value};!1!==x(a.name)&&!1!==p(a.number)?(!function(t){if(e.some((function(e){return e.name===t.name})))d().Notify.failure("".concat(t.name," is already in contacts"));else{var r=(0,i.Z)((0,i.Z)({},t),{},{id:l()});n((0,c.je)(r))}}(a),r.reset()):d().Notify.warning("Input fields did not pass validation")},noValidate:!0,autoComplete:"off",sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"15px"},children:[(0,v.jsx)(m.Z,{required:!0,sx:{backgroundColor:"white",borderRadius:"10px"},name:"name",type:"text",label:"Input Name",id:"inputName",variant:"filled",inputProps:{maxLength:20}}),(0,v.jsx)(m.Z,{required:!0,sx:{backgroundColor:"white",borderRadius:"10px"},name:"phone",type:"tel",id:"inputPhone",label:"Input Phone",variant:"filled",inputProps:{maxLength:15}}),(0,v.jsx)(h.Z,{type:"submit",variant:"contained",children:"Add contact"})]})},_=t(9439),g=t(2791),b=t(3553),C=function(e){return e.filter.filter},y=(0,b.P1)([C,a],(function(e,n){if(""!==C){var t=e.trim().toLowerCase();return n.filter((function(e){return e.name.trim().toLowerCase().includes(t)}))}})),N="ContactList_deleteBtn__1dg25",w="ContactList_table__GN5S1",L="ContactList_wrap__paQKq",Z="ContactList_tdButtons__YNnXF",k="ContactList_trList__AW76Q",I="Modal_overlay__r63M6",P="Modal_modal__DJDMv",E=function(e){var n=e.close,t=e.contact,i=(0,r.I0)(),a=function(e){i((0,c.fB)(e))};return(0,g.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[n]),(0,v.jsx)("div",{className:I,onClick:function(e){e.target===e.currentTarget&&n()},children:(0,v.jsx)("div",{className:P,children:(0,v.jsxs)(f.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault();var i=e.target,r={name:i.elements.name.value,number:i.elements.phone.value,id:t.id};!1!==x(a.name)&&!1!==p(r.number)?(a(r),n()):d().Notify.warning("Input fields did not pass validation")},sx:{display:"flex",flexDirection:"column",width:"400px",justifyContent:"center",alignItems:"center",margin:"0 auto",height:"300px","& > :not(style)":{m:1,width:"25ch"}},children:[(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{children:["Old name: ",t.name]}),(0,v.jsx)(m.Z,{variant:"outlined",name:"name",type:"text",label:"Name",inputProps:{maxLength:15},required:!0})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{children:["old phone: ",t.number]}),(0,v.jsx)(m.Z,{name:"phone",type:"tel",id:"inputPhone",label:"Phone",required:!0})]}),(0,v.jsx)(h.Z,{type:"submit",variant:"contained",children:"Change"})]})})})},A=function(){var e=(0,r.v9)(y),n=(0,r.v9)(o),t=(0,r.v9)(s),i=(0,g.useState)(!1),a=(0,_.Z)(i,2),l=a[0],u=a[1],d=(0,g.useState)(null),f=(0,_.Z)(d,2),m=f[0],h=f[1],x=function(){u(!1)},p=(0,r.I0)();return(0,g.useEffect)((function(){p((0,c.x8)())}),[p]),(0,v.jsxs)(v.Fragment,{children:[n&&!t&&(0,v.jsx)("p",{children:"Loading..."}),e&&e.length>0&&(0,v.jsx)("div",{className:L,children:(0,v.jsxs)("table",{className:w,children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"Name"}),(0,v.jsx)("th",{children:"Phone"}),(0,v.jsx)("th",{children:"Action"})]})}),(0,v.jsx)("tbody",{children:e.sort((function(e,n){return n.id-e.id})).map((function(n){return(0,v.jsxs)("tr",{className:k,children:[(0,v.jsx)("td",{children:n.name}),(0,v.jsx)("td",{children:n.number}),(0,v.jsxs)("td",{className:Z,children:[(0,v.jsx)("button",{type:"button",onClick:function(){return function(n){var t=e.find((function(e){return e.id===n}));h(t),u(!0)}(n.id)},className:N,children:"Edit"}),(0,v.jsx)("button",{onClick:function(){return e=n.id,void p((0,c.xX)(e));var e},className:N,children:"Delete"}),l&&(0,v.jsx)(E,{close:x,contact:m})]})]},n.id)}))})]})})]})},D=t(838),S="Filter_filter__vxThR",R=function(){var e=(0,r.v9)(C),n=(0,r.I0)();return(0,v.jsx)("div",{className:S,children:(0,v.jsx)(m.Z,{sx:{backgroundColor:"white",borderRadius:"10px"},name:"filter",type:"text",id:"filterContact",value:e,onChange:function(e){n((0,D.Ot)(e.target.value))},label:"Contacts filter",variant:"filled"})})},q="Contacts_block__ILOhZ",M="Contacts_title__LxdN4",z=function(){var e=(0,r.I0)(),n=(0,r.v9)(o);return(0,g.useEffect)((function(){e((0,c.x8)())}),[e]),(0,v.jsxs)("div",{className:q,children:[n&&(0,v.jsx)("p",{children:"Loading..."}),(0,v.jsx)("h2",{className:M,children:"Contacts"}),(0,v.jsx)(j,{}),(0,v.jsx)(R,{}),(0,v.jsx)(A,{})]})}}}]);
//# sourceMappingURL=622.52a0248e.chunk.js.map